# Test Case: Update Non-existent User (PUT /users/{id})

| Поле                            | Описание                                                                                                                                             |
| ------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Test Case ID**                | TC_API_USERS_UPDATE_NEG_008                                                                                                                          |
| **Название**                    | Ошибка при обновлении несуществующего пользователя                                                                                                   |
| **Цель теста**                  | Проверить, что API возвращает корректную ошибку при попытке обновления пользователя с несуществующим ID                                              |
| **Тип теста**                   | API / Integration                                                                                                                                    |
| **Категория**                   | Negative                                                                                                                                             |
| **Приоритет**                   | Medium                                                                                                                                               |
| **Теги**                        | users, update, put, negative, validation, regression                                                                                                 |
| **Automation Ready**            | Да                                                                                                                                                   |
| **Предусловия**                 | API и PostgreSQL запущены (Docker); известен несуществующий ID пользователя                                                                          |
| **HTTP Метод**                  | PUT                                                                                                                                                  |
| **Endpoint**                    | `/users/{id}`                                                                                                                                        |
| **Headers**                     | `Content-Type: application/json`                                                                                                                     |
| **Query Params**                | —                                                                                                                                                    |
| **Path Variables**              | `id: number` (несуществующий ID пользователя, например, 999999)                                                                                      |
| **Body (Payload)**              | `{ "email": "updated_test@example.com", "name": "Updated Name", "phone": "+79991234567", "address": "Updated Address", "birth_date": "1990-01-01" }` |
| **Источник тестовых данных**    | Генерация заведомо несуществующего ID и валидных данных для обновления                                                                               |
| **Ожидаемый HTTP статус**       | `404 Not Found`                                                                                                                                      |
| **Ожидаемый Response (Schema)** | `{ "detail": string }`                                                                                                                               |
| **Assertions**                  | `status == 404`; тело ответа содержит информацию о том, что пользователь не найден; данные не сохранены в БД                                         |
| **DB Checks (обязательно)**     | В таблице `users` по-прежнему отсутствует запись с указанным ID                                                                                      |
| **Постусловия**                 | —                                                                                                                                                    |
| **Зависимости**                 | —                                                                                                                                                    |
